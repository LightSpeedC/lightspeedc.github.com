<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=Edge, Chrome=1">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Cache-Control" content="no-cache">
<meta http-equiv="Expires" content="Thu, 01 Dec 1994 16:00:00 GMT">
<title>LightSpeedC</title>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<script src="/js/es5-shim.min.js"></script>
<!-- load MUI -->
<link href="/css/mui.min.css" rel="stylesheet" type="text/css"/>
<script src="/js/mui.js"></script>
<!--
<link href="//cdn.muicss.com/mui-0.1.21/css/mui.min.css" rel="stylesheet" type="text/css" />
<script src="//cdn.muicss.com/mui-0.1.21/js/mui.min.js"></script>
-->
<link href="/css/local-green.css" rel="stylesheet" type="text/css"/>
<!-- load Mithril.js -->
<script src="/js/mithril.min.js"></script>
</head>
<body>
<div class="mui-container">
<div class="mui-panel">
<h1>
<a class="mui-btn mui-btn-primary mui-btn-raised" href="https://lightspeedc.github.io/">LightSpeedC.github.io</a>
</h1>
<p>LightSpeedC pages</p>
<p class="view">
<a class="mui-btn mui-btn-default mui-btn-raised" href="https://github.com/LightSpeedC">View the Project on GitHub <strong>LightSpeedC</strong></a>
</p>
<ul>
<li>
<a class="mui-btn mui-btn-default mui-btn-raised" href="https://github.com/LightSpeedC/lightspeedc.github.io">View On <strong>GitHub</strong></a>
</li>
<li>
<a class="mui-btn mui-btn-accent mui-btn-raised" href="/public/mui-ex.html">MUI example</a>
</li>
<li>
<a class="mui-btn mui-btn-accent mui-btn-raised" href="/public/mdl-ex.html">MDL example</a>
</li>
</ul>
</div>
<div id="$indexElement"></div>
</div>
</body>
<script>

//コンポーネント定義
var indexComponent = {
	//コントローラ
	controller: function () {
		//データをサーバーから取得する
		this.list = m.request({method: 'GET', url: 'index.json'});
	},
	//ビュー
	view: function (ctrl) {
		return m('div', mui_cls('panel'),
			m('ul',
				ctrl.list().map(function (item) {
					return m('li', {},
						m('a', mui_cls('btn', 'default', 'raised', {href: item.url}), item.title));
				})
			)
		);
	}
};

function mui_cls(elem) {
  var attr = typeof arguments[arguments.length - 1] === 'object' ?
      arguments[--arguments.length] : {};
  elem = 'mui-' + elem;
  attr.className = [elem].concat([].slice.call(arguments, 1).map(function (e) { return elem + '-' + e; })).join(' ');
  return attr;
}

window.onload = function () {
	m.mount($indexElement, indexComponent);
};

</script>
</html>
